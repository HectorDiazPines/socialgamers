<?php // es el controlador de controladores// se cargan e inicializan todos los valores globalesrequire "conf/constantes.php";require "controladores/ListaControladores.php";require "vistas/ListaVistas.php";require 'modelo/modelo_Juego.php';require 'modelo/modelo_Usuario.php';require 'modelo/ModeloAdmin.php';require 'modelo/modelo_Portada.php';require 'modelo/BBDD.php';class EntradaAplicacion {  static function arranque() {	  $cont=0;	  // se arranca la sesión por si se accede desde una página que contenga datos de sesión, 	  // como por ejemplo, "Envío de post por usuario registrado"	  session_start();	  	  // se enruta la petición internamente	  $uri = $_SERVER['REQUEST_URI'];	  	// print "$uri <br />";		$accion = self::devuelveAccion($uri);	$controlador= self::devuelveControlador($uri);	 	//  echo "esto es el controlador :".$controlador."<br />";	//  echo "esto es la accion : ".$accion;	  		if (empty($controlador)) {	 $controlador="Juego_Controlador";	}else{		$controlador.="_Controlador";		}		if (empty($accion)) {		$accion="inicio";	}else{		$accion=$accion;	}		$controlador::$accion($_REQUEST,$_SESSION);	       }     static function devuelveAccion($uri) {  	$direccionPelada = substr($uri, strlen(DIR_RAIZ_APP));  // se le quita el prefijo  	// print "$direccionPelada <br />";    	// se comprueba si hay par�metros pasados por GET => un car�cter de ?  	$posicionInterrogacion = strpos($direccionPelada, '?');  	if ($posicionInterrogacion !== false) // si existe, se le quita la query string  		$direccionPelada = substr($direccionPelada, 0, $posicionInterrogacion);  	// print "$direccionPelada <br />";    	$todo = '';  // la acci�n por defecto  	$todo = substr($direccionPelada, strlen(INDEX));  	$todo.="/";  	// print "esto es la direccion para el explode ".$todo;  	$todo=explode("/", $todo);    	$total=$todo[1];  	// print $accion;    	return $total;  }   static function devuelveControlador($uri) {  	$direccionPelada = substr($uri, strlen(DIR_RAIZ_APP));  // se le quita el prefijo  	// print "$direccionPelada <br />";    	// se comprueba si hay parametros pasados por GET => un car�cter de ?  	$posicionInterrogacion = strpos($direccionPelada, '?');  	if ($posicionInterrogacion !== false) // si existe, se le quita la query string  		$direccionPelada = substr($direccionPelada, 0, $posicionInterrogacion);  	// print "$direccionPelada <br />";    	$todo = '';  // la acci�n por defecto  	$todo = substr($direccionPelada, strlen(INDEX));  //	print "esto es la direccion para el explode ".$todo;  	  	$todo=explode("/", $todo);  	  	$todo=$todo[0];  	// print $accion;    	return $todo;  }}EntradaAplicacion::arranque();  ?>